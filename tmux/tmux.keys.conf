################################
# Keybinds
##############################

# Changing ctrl b to ctrl a as the command button
unbind C-b
set-option -g prefix C-s
bind-key C-s send-prefix

# Change to vim movement keys (No smart pane switching)
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Resize the pane
bind-key -r J resize-pane -D 3
bind-key -r K resize-pane -U 3
bind-key -r H resize-pane -L 3
bind-key -r L resize-pane -R 3
bind z resize-pane -Z

# Windows Management
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
bind ^C new-window -c "$HOME"
bind c kill-pane
bind x swap-pane -D
bind r command-prompt "rename-window %%"
bind ^H previous-window
bind ^L next-window

# Open a "test" split-window at the bottom
bind t split-window -f -l 15 -c "#{pane_current_path}"
# Open a "test" split-window at the right
bind T split-window -h -f -p 35 -c "#{pane_current_path}"
bind q kill-pane

# Rebind 'clear screen' to <prefix>+c-l
bind C-l send-keys 'C-l'

# Bind copy for wsl
# bind -n M-w run -b "tmux show-buffer | clip.exe"
# set-option -g default-command "bash -c 'xclip -selection clipboard >/dev/null 2>&1'"
if-shell -b 'test -n "$WSLENV"' 'bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel clip.exe'
if-shell -b 'test -n "$WSLENV"' 'bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel clip.exe'


# Vim movement keys on copy-mode
set -g mode-keys vi

# Menu binding
bind w list-windows
bind S choose-session
bind * list-clients

# Source binding
bind R source-file ~/.config/tmux/tmux.conf
